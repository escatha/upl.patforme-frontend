{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\upl.patforme\\\\frontend\\\\src\\\\pages\\\\TeacherDashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport { useUser } from \"../contexts/UserContext\";\nimport './TeacherDashboard.css'; // Importing the CSS file\nimport QuestionnaireList from \"../components/QuestionnaireList\";\n// Interfaces\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TeacherDashboard = ({\n  user,\n  onLogout\n}) => {\n  _s();\n  const {\n    faculty\n  } = useParams();\n  const {\n    setUser\n  } = useUser();\n  console.log(\"utilisateur connecte :\", user, setUser);\n  const [questionnaires, setQuestionnaires] = useState([]);\n  const [currentQuestionnaire, setCurrentQuestionnaire] = useState(null);\n  const [isCreatingNew, setIsCreatingNew] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const showToast = (title, description) => {\n    alert(`${title}: ${description}`);\n  };\n  const createNewQuestionnaire = () => {\n    const newQuestionnaire = {\n      id: Date.now().toString(),\n      title: '',\n      subject: '',\n      questions: [],\n      status: 'draft',\n      teacherId: user.id\n    };\n    setCurrentQuestionnaire(newQuestionnaire);\n    setIsCreatingNew(true);\n  };\n  const addQuestion = () => {\n    if (!currentQuestionnaire) return;\n    const newQuestion = {\n      id: Date.now().toString(),\n      question: '',\n      options: ['', '', '', ''],\n      correctAnswer: 0\n    };\n    setCurrentQuestionnaire({\n      ...currentQuestionnaire,\n      questions: [...currentQuestionnaire.questions, newQuestion]\n    });\n  };\n  const updateQuestion = (questionId, field, value) => {\n    if (!currentQuestionnaire) return;\n    setCurrentQuestionnaire({\n      ...currentQuestionnaire,\n      questions: currentQuestionnaire.questions.map(q => q.id === questionId ? {\n        ...q,\n        [field]: value\n      } : q)\n    });\n  };\n  const updateQuestionOption = (questionId, optionIndex, value) => {\n    if (!currentQuestionnaire) return;\n    setCurrentQuestionnaire({\n      ...currentQuestionnaire,\n      questions: currentQuestionnaire.questions.map(q => q.id === questionId ? {\n        ...q,\n        options: q.options.map((opt, idx) => idx === optionIndex ? value : opt)\n      } : q)\n    });\n  };\n  const removeQuestion = questionId => {\n    if (!currentQuestionnaire) return;\n    if (window.confirm(\"√ätes-vous s√ªr de vouloir supprimer cette question ?\")) {\n      setCurrentQuestionnaire({\n        ...currentQuestionnaire,\n        questions: currentQuestionnaire.questions.filter(q => q.id !== questionId)\n      });\n    }\n  };\n  const saveQuestionnaire = () => {\n    if (!currentQuestionnaire) return;\n    if (!currentQuestionnaire.title.trim() || !currentQuestionnaire.subject.trim()) {\n      showToast('Erreur', 'Veuillez remplir le titre et la mati√®re');\n      return;\n    }\n    if (currentQuestionnaire.questions.length === 0) {\n      showToast('Erreur', 'Veuillez ajouter au moins une question');\n      return;\n    }\n    const incompleteQuestions = currentQuestionnaire.questions.some(q => !q.question.trim() || q.options.some(opt => !opt.trim()));\n    if (incompleteQuestions) {\n      showToast('Erreur', 'Veuillez compl√©ter toutes les questions et leurs options');\n      return;\n    }\n    if (isCreatingNew) {\n      setQuestionnaires(prev => [...prev, currentQuestionnaire]);\n    } else {\n      setQuestionnaires(prev => prev.map(q => q.id === currentQuestionnaire.id ? currentQuestionnaire : q));\n    }\n    showToast('Succ√®s', 'Questionnaire sauvegard√© avec succ√®s');\n    setCurrentQuestionnaire(null);\n    setIsCreatingNew(false);\n  };\n  if (!user || !user.id) {\n    showToast(\"Erreur\", \"Identifiant de l'utilisateur non disponible.\");\n    return;\n  }\n  const submitQuestionnaire = async questionnaire => {\n    console.log(\"üõ† Re√ßu dans req.body :\");\n    if (!questionnaire.title.trim() || !questionnaire.subject.trim() || !questionnaire.teacherId) {\n      showToast(\"Erreur\", \"Champs requis manquants (titre, mati√®re ou identifiant enseignant).\");\n      return;\n    }\n    if (questionnaire.questions.length === 0) {\n      showToast(\"Erreur\", \"Veuillez ajouter au moins une question.\");\n      return;\n    }\n    try {\n      console.log(\"Utilisateur utilis√© pour soumission :\", user);\n      console.log(\"üß† Utilisateur (user) :\", user);\n      const payload = {\n        ...questionnaire,\n        teacherId: String(user.id),\n        // ‚úÖ assure-toi que c‚Äôest une cha√Æne\n        teacherName: user.name,\n        // ‚úÖ AJOUT\n        status: 'submitted',\n        submittedAt: new Date().toISOString()\n      };\n      console.log(\"Corps de la requ√™te envoy√© :\", payload);\n      const response = await fetch(`http://localhost:3001/api/questionnaires/submit`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      console.log('R√©ponse du serveur:', response);\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('Erreur lors de la soumission, serveur r√©pond:', errorText);\n        showToast(\"Erreur\", errorText);\n        return;\n      }\n      setQuestionnaires(prev => prev.map(q => q.id === questionnaire.id ? {\n        ...questionnaire,\n        status: 'submitted',\n        submittedAt: new Date().toISOString()\n      } : q));\n      showToast(\"Succ√®s\", \"Questionnaire soumis avec succ√®s !\");\n      setCurrentQuestionnaire(null);\n    } catch (error) {\n      console.error(\"Erreur dans submitQuestionnaire:\", error);\n      showToast(\"Erreur\", \"√âchec de la soumission du questionnaire.\");\n    }\n  };\n  const getStatusBadge = status => {\n    switch (status) {\n      case 'draft':\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge draft\",\n          children: \"Brouillon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 28\n        }, this);\n      case 'submitted':\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge submitted\",\n          children: \"Soumis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 32\n        }, this);\n      case 'approved':\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge approved\",\n          children: \"Approuv\\xE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 31\n        }, this);\n      case 'rejected':\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge rejected\",\n          children: \"Rejet\\xE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 31\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Inconnu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 23\n        }, this);\n    }\n  };\n  const filteredQuestionnaires = questionnaires.filter(q => q.title.toLowerCase().includes(searchTerm.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Bienvenue \", user === null || user === void 0 ? void 0 : user.name, \" \\uD83D\\uDC4B\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Facult\\xE9 : \", user === null || user === void 0 ? void 0 : user.faculty]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(QuestionnaireList, {\n        faculty: user.faculty\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 7\n      }, this), faculty === \"informatique\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold\",\n          children: \"Facult\\xE9 d\\u2019Informatique\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Gestion des cours, examens et devoirs pour Informatique.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), faculty === \"polytechnique\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold\",\n          children: \"Facult\\xE9 Polytechnique\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Organisation des modules et projets d\\u2019ing\\xE9nierie.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), faculty === \"etudes-de-la-bible\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold\",\n          children: \"Facult\\xE9 \\xC9tudes de la Bible\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Pr\\xE9paration des examens bibliques et suivis spirituels.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), faculty === \"medecine\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold\",\n          children: \"Facult\\xE9 de M\\xE9decine\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Suivi des stages cliniques et gestion des examens m\\xE9dicaux.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), faculty === \"droit\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold\",\n          children: \"Facult\\xE9 de Droit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Conception des examens et suivi des \\xE9tudiants en droit.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), faculty === \"sciences-economiques\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold\",\n          children: \"Facult\\xE9 de Sciences \\xC9conomiques\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Organisation des cours de finance, marketing et \\xE9conomie.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), faculty !== \"informatique\" && faculty !== \"polytechnique\" && faculty !== \"etudes-de-la-bible\" && faculty !== \"medecine\" && faculty !== \"droit\" && faculty !== \"sciences-economiques\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-600\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\": \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: faculty\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Espace Professeur\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Bienvenue, \", user.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"logout-btn\",\n        onClick: onLogout,\n        children: \"D\\xE9connexion\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-questionnaire\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"create-btn\",\n        onClick: createNewQuestionnaire,\n        children: \"Cr\\xE9er un nouveau questionnaire\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-bar\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Rechercher un questionnaire...\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value),\n        className: \"input-field\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"questionnaires-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Mes Questionnaires\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), filteredQuestionnaires.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Aucun questionnaire cr\\xE9\\xE9. Cliquez sur \\\"Cr\\xE9er un nouveau questionnaire\\\" pour commencer.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"questionnaire-items\",\n        children: filteredQuestionnaires.map(q => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"questionnaire-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: q.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Mati\\xE8re : \", q.subject]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [q.questions.length, \" question(s)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Statut : \", getStatusBadge(q.status)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 17\n          }, this), q.status === 'draft' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"edit-btn\",\n              onClick: () => setCurrentQuestionnaire(q),\n              children: \"Modifier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"submit-btn\",\n              onClick: () => submitQuestionnaire(q),\n              disabled: q.questions.length === 0,\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Soumis par : \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: user.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 39\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 23\n              }, this), \"Soumettre\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true), q.status === 'submitted' && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"En attente de validation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 46\n          }, this), q.status === 'approved' && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"approved-status\",\n            children: \"Approuv\\xE9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 45\n          }, this), q.status === 'rejected' && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"rejected-status\",\n            children: \"Rejet\\xE9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 45\n          }, this)]\n        }, q.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), currentQuestionnaire && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"questionnaire-editor\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: isCreatingNew ? 'Nouveau Questionnaire' : 'Modifier le Questionnaire'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Titre de l'examen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: currentQuestionnaire.title,\n          onChange: e => setCurrentQuestionnaire({\n            ...currentQuestionnaire,\n            title: e.target.value\n          }),\n          placeholder: \"Ex: Examen de Math\\xE9matiques\",\n          className: \"input-field\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Mati\\xE8re\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: currentQuestionnaire.subject,\n          onChange: e => setCurrentQuestionnaire({\n            ...currentQuestionnaire,\n            subject: e.target.value\n          }),\n          placeholder: \"Ex: Math\\xE9matiques\",\n          className: \"input-field\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Questions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-question-btn\",\n          onClick: addQuestion,\n          children: \"Ajouter une question\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this), currentQuestionnaire.questions.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-questions\",\n          children: \"Aucune question ajout\\xE9e\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 15\n        }, this), currentQuestionnaire.questions.map((question, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"question-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"Question \", idx + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"remove-question-btn\",\n              onClick: () => removeQuestion(question.id),\n              children: \"Supprimer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: question.question,\n            onChange: e => updateQuestion(question.id, 'question', e.target.value),\n            placeholder: \"Saisissez la question\",\n            className: \"question-textarea\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Options de r\\xE9ponse :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 19\n            }, this), question.options.map((opt, optIdx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: `correct-${question.id}`,\n                checked: question.correctAnswer === optIdx,\n                onChange: () => updateQuestion(question.id, 'correctAnswer', optIdx)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: opt,\n                onChange: e => updateQuestionOption(question.id, optIdx, e.target.value),\n                placeholder: `Option ${optIdx + 1}`,\n                className: \"option-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 23\n              }, this), question.correctAnswer === optIdx && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"correct-indicator\",\n                children: \"(Correct)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 25\n              }, this)]\n            }, optIdx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 17\n          }, this)]\n        }, question.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel-btn\",\n          onClick: () => {\n            setCurrentQuestionnaire(null);\n            setIsCreatingNew(false);\n          },\n          children: \"Annuler\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"save-btn\",\n          onClick: saveQuestionnaire,\n          children: \"Sauvegarder\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 5\n  }, this);\n};\n_s(TeacherDashboard, \"wl9sKZhlYMorOxvtHW9CxCCRmsk=\", false, function () {\n  return [useParams, useUser];\n});\n_c = TeacherDashboard;\nexport default TeacherDashboard;\nvar _c;\n$RefreshReg$(_c, \"TeacherDashboard\");","map":{"version":3,"names":["React","useState","useParams","useUser","QuestionnaireList","jsxDEV","_jsxDEV","Fragment","_Fragment","TeacherDashboard","user","onLogout","_s","faculty","setUser","console","log","questionnaires","setQuestionnaires","currentQuestionnaire","setCurrentQuestionnaire","isCreatingNew","setIsCreatingNew","searchTerm","setSearchTerm","showToast","title","description","alert","createNewQuestionnaire","newQuestionnaire","id","Date","now","toString","subject","questions","status","teacherId","addQuestion","newQuestion","question","options","correctAnswer","updateQuestion","questionId","field","value","map","q","updateQuestionOption","optionIndex","opt","idx","removeQuestion","window","confirm","filter","saveQuestionnaire","trim","length","incompleteQuestions","some","prev","submitQuestionnaire","questionnaire","payload","String","teacherName","name","submittedAt","toISOString","response","fetch","method","headers","body","JSON","stringify","ok","errorText","text","error","getStatusBadge","className","children","fileName","_jsxFileName","lineNumber","columnNumber","filteredQuestionnaires","toLowerCase","includes","onClick","type","placeholder","onChange","e","target","disabled","optIdx","checked","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/upl.patforme/frontend/src/pages/TeacherDashboard.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useUser } from \"../contexts/UserContext\";\r\nimport './TeacherDashboard.css'; // Importing the CSS file\r\nimport QuestionnaireList from \"../components/QuestionnaireList\";\r\n// Interfaces\r\ninterface User {\r\n  id: string;\r\n  name: string;\r\n  role: string;\r\n  faculty: string;\r\n}\r\n\r\ninterface Question {\r\n  id: string;\r\n  question: string;\r\n  options: string[];\r\n  correctAnswer: number;\r\n}\r\n\r\ninterface Questionnaire {\r\n  id: string;\r\n  title: string;\r\n  subject: string;\r\n  questions: Question[];\r\n  status: 'draft' | 'submitted' | 'approved' | 'rejected';\r\n  submittedAt?: string;\r\n  teacherId: string;\r\n}\r\n\r\ninterface TeacherDashboardProps {\r\n  user: User;\r\n  onLogout: () => void;\r\n}\r\n\r\nconst TeacherDashboard: React.FC<TeacherDashboardProps> = ({ user, onLogout }) => {\r\nconst { faculty } = useParams();\r\n  const {  setUser } = useUser();\r\n    \r\n        console.log(\"utilisateur connecte :\",user,setUser);\r\n  const [questionnaires, setQuestionnaires] = useState<Questionnaire[]>([]);\r\n  const [currentQuestionnaire, setCurrentQuestionnaire] = useState<Questionnaire | null>(null);\r\n  const [isCreatingNew, setIsCreatingNew] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const showToast = (title: string, description: string) => {\r\n    alert(`${title}: ${description}`);\r\n  };\r\n\r\n  const createNewQuestionnaire = () => {\r\n    const newQuestionnaire: Questionnaire = {\r\n      id: Date.now().toString(),\r\n      title: '',\r\n      subject: '',\r\n      questions: [],\r\n      status: 'draft',\r\n      teacherId: user.id\r\n    };\r\n    setCurrentQuestionnaire(newQuestionnaire);\r\n    setIsCreatingNew(true);\r\n  };\r\n\r\n  const addQuestion = () => {\r\n    if (!currentQuestionnaire) return;\r\n\r\n    const newQuestion: Question = {\r\n      id: Date.now().toString(),\r\n      question: '',\r\n      options: ['', '', '', ''],\r\n      correctAnswer: 0\r\n    };\r\n\r\n    setCurrentQuestionnaire({\r\n      ...currentQuestionnaire,\r\n      questions: [...currentQuestionnaire.questions, newQuestion]\r\n    });\r\n  };\r\n\r\n  const updateQuestion = (questionId: string, field: keyof Question, value: any) => {\r\n    if (!currentQuestionnaire) return;\r\n\r\n    setCurrentQuestionnaire({\r\n      ...currentQuestionnaire,\r\n      questions: currentQuestionnaire.questions.map(q =>\r\n        q.id === questionId ? { ...q, [field]: value } : q\r\n      )\r\n    });\r\n  };\r\n\r\n  const updateQuestionOption = (questionId: string, optionIndex: number, value: string) => {\r\n    if (!currentQuestionnaire) return;\r\n\r\n    setCurrentQuestionnaire({\r\n      ...currentQuestionnaire,\r\n      questions: currentQuestionnaire.questions.map(q =>\r\n        q.id === questionId\r\n          ? {\r\n              ...q,\r\n              options: q.options.map((opt, idx) => (idx === optionIndex ? value : opt))\r\n            }\r\n          : q\r\n      )\r\n    });\r\n  };\r\n\r\n  const removeQuestion = (questionId: string) => {\r\n    if (!currentQuestionnaire) return;\r\n\r\n    if (window.confirm(\"√ätes-vous s√ªr de vouloir supprimer cette question ?\")) {\r\n      setCurrentQuestionnaire({\r\n        ...currentQuestionnaire,\r\n        questions: currentQuestionnaire.questions.filter(q => q.id !== questionId)\r\n      });\r\n    }\r\n  };\r\n\r\n  const saveQuestionnaire = () => {\r\n    if (!currentQuestionnaire) return;\r\n\r\n    if (!currentQuestionnaire.title.trim() || !currentQuestionnaire.subject.trim()) {\r\n      showToast('Erreur', 'Veuillez remplir le titre et la mati√®re');\r\n      return;\r\n    }\r\n\r\n    if (currentQuestionnaire.questions.length === 0) {\r\n      showToast('Erreur', 'Veuillez ajouter au moins une question');\r\n      return;\r\n    }\r\n\r\n    const incompleteQuestions = currentQuestionnaire.questions.some(q =>\r\n      !q.question.trim() || q.options.some(opt => !opt.trim())\r\n    );\r\n\r\n    if (incompleteQuestions) {\r\n      showToast('Erreur', 'Veuillez compl√©ter toutes les questions et leurs options');\r\n      return;\r\n    }\r\n\r\n    if (isCreatingNew) {\r\n      setQuestionnaires(prev => [...prev, currentQuestionnaire]);\r\n    } else {\r\n      setQuestionnaires(prev =>\r\n        prev.map(q => (q.id === currentQuestionnaire.id ? currentQuestionnaire : q))\r\n      );\r\n    }\r\n\r\n    showToast('Succ√®s', 'Questionnaire sauvegard√© avec succ√®s');\r\n    setCurrentQuestionnaire(null);\r\n    setIsCreatingNew(false);\r\n  };\r\nif (!user || !user.id) {\r\n  showToast(\"Erreur\", \"Identifiant de l'utilisateur non disponible.\");\r\n  return;\r\n}\r\nconst submitQuestionnaire = async (questionnaire: Questionnaire) => {\r\n  console.log(\"üõ† Re√ßu dans req.body :\", );\r\n  if (!questionnaire.title.trim() || !questionnaire.subject.trim() || !questionnaire.teacherId) {\r\n    showToast(\"Erreur\", \"Champs requis manquants (titre, mati√®re ou identifiant enseignant).\");\r\n    return;\r\n  }\r\n\r\n  if (questionnaire.questions.length === 0) {\r\n    showToast(\"Erreur\", \"Veuillez ajouter au moins une question.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    console.log(\"Utilisateur utilis√© pour soumission :\", user);\r\n    console.log(\"üß† Utilisateur (user) :\", user);\r\n    \r\n    const payload = {\r\n      ...questionnaire,\r\n     teacherId: String(user.id),          // ‚úÖ assure-toi que c‚Äôest une cha√Æne\r\n     teacherName: user.name,             // ‚úÖ AJOUT\r\n      status: 'submitted',\r\n      submittedAt: new Date().toISOString()\r\n    };\r\n\r\n    console.log(\"Corps de la requ√™te envoy√© :\", payload);\r\n\r\n    const response = await fetch(`http://localhost:3001/api/questionnaires/submit`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(payload),\r\n    });\r\n\r\n    console.log('R√©ponse du serveur:', response);\r\n\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      console.error('Erreur lors de la soumission, serveur r√©pond:', errorText);\r\n      showToast(\"Erreur\", errorText);\r\n      return;\r\n    }\r\n\r\n    setQuestionnaires(prev =>\r\n      prev.map(q => q.id === questionnaire.id ? { ...questionnaire, status: 'submitted', submittedAt: new Date().toISOString() } : q)\r\n    );\r\n\r\n    showToast(\"Succ√®s\", \"Questionnaire soumis avec succ√®s !\");\r\n    setCurrentQuestionnaire(null);\r\n\r\n  } catch (error) {\r\n    console.error(\"Erreur dans submitQuestionnaire:\", error);\r\n    showToast(\"Erreur\", \"√âchec de la soumission du questionnaire.\");\r\n  }\r\n};\r\n\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    switch (status) {\r\n      case 'draft': return <span className=\"badge draft\">Brouillon</span>;\r\n      case 'submitted': return <span className=\"badge submitted\">Soumis</span>;\r\n      case 'approved': return <span className=\"badge approved\">Approuv√©</span>;\r\n      case 'rejected': return <span className=\"badge rejected\">Rejet√©</span>;\r\n      default: return <span>Inconnu</span>;\r\n    }\r\n  };\r\n\r\n  const filteredQuestionnaires = questionnaires.filter(q =>\r\n    q.title.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <div className=\"p-6\">\r\n      <h2>Bienvenue {user?.name} üëã</h2>\r\n      <p>Facult√© : {user?.faculty}</p>\r\n      <QuestionnaireList faculty={user.faculty} />\r\n\r\n      {faculty === \"informatique\" && (\r\n        <div>\r\n          <h2 className=\"text-lg font-semibold\">Facult√© d‚ÄôInformatique</h2>\r\n          <p>Gestion des cours, examens et devoirs pour Informatique.</p>\r\n        </div>\r\n      )}\r\n\r\n      {faculty === \"polytechnique\" && (\r\n        <div>\r\n          <h2 className=\"text-lg font-semibold\">Facult√© Polytechnique</h2>\r\n          <p>Organisation des modules et projets d‚Äôing√©nierie.</p>\r\n        </div>\r\n      )}\r\n\r\n      {faculty === \"etudes-de-la-bible\" && (\r\n        <div>\r\n          <h2 className=\"text-lg font-semibold\">Facult√© √âtudes de la Bible</h2>\r\n          <p>Pr√©paration des examens bibliques et suivis spirituels.</p>\r\n        </div>\r\n      )}\r\n\r\n      {faculty === \"medecine\" && (\r\n        <div>\r\n          <h2 className=\"text-lg font-semibold\">Facult√© de M√©decine</h2>\r\n          <p>Suivi des stages cliniques et gestion des examens m√©dicaux.</p>\r\n        </div>\r\n      )}\r\n\r\n      {faculty === \"droit\" && (\r\n        <div>\r\n          <h2 className=\"text-lg font-semibold\">Facult√© de Droit</h2>\r\n          <p>Conception des examens et suivi des √©tudiants en droit.</p>\r\n        </div>\r\n      )}\r\n\r\n      {faculty === \"sciences-economiques\" && (\r\n        <div>\r\n          <h2 className=\"text-lg font-semibold\">Facult√© de Sciences √âconomiques</h2>\r\n          <p>Organisation des cours de finance, marketing et √©conomie.</p>\r\n        </div>\r\n      )}\r\n\r\n      {faculty !== \"informatique\" &&\r\n        faculty !== \"polytechnique\" &&\r\n        faculty !== \"etudes-de-la-bible\" &&\r\n        faculty !== \"medecine\" &&\r\n        faculty !== \"droit\" &&\r\n        faculty !== \"sciences-economiques\" && (\r\n          <div className=\"text-red-600\">\r\n            <p>: <strong>{faculty}</strong></p>\r\n          </div>\r\n      )}\r\n    </div>\r\n      <header className=\"header\">\r\n        <div>\r\n          <h1>Espace Professeur</h1>\r\n          <p>Bienvenue, {user.name}</p>\r\n        </div>\r\n        <button className=\"logout-btn\" onClick={onLogout}>D√©connexion</button>\r\n      </header>\r\n\r\n      <div className=\"create-questionnaire\">\r\n        <button className=\"create-btn\" onClick={createNewQuestionnaire}>Cr√©er un nouveau questionnaire</button>\r\n      </div>\r\n\r\n      <div className=\"search-bar\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Rechercher un questionnaire...\"\r\n          value={searchTerm}\r\n          onChange={e => setSearchTerm(e.target.value)}\r\n          className=\"input-field\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"questionnaires-list\">\r\n        <h2>Mes Questionnaires</h2>\r\n        {filteredQuestionnaires.length === 0 ? (\r\n          <p>Aucun questionnaire cr√©√©. Cliquez sur \"Cr√©er un nouveau questionnaire\" pour commencer.</p>\r\n        ) : (\r\n          <ul className=\"questionnaire-items\">\r\n            {filteredQuestionnaires.map(q => (\r\n              <li key={q.id} className=\"questionnaire-item\">\r\n                <h3>{q.title}</h3>\r\n                <p>Mati√®re : {q.subject}</p>\r\n                <p>{q.questions.length} question(s)</p>\r\n                <p>Statut : {getStatusBadge(q.status)}</p>\r\n                {q.status === 'draft' && (\r\n                  <>\r\n                    <button className=\"edit-btn\" onClick={() => setCurrentQuestionnaire(q)}>Modifier</button>\r\n                    <button\r\n                      className=\"submit-btn\"\r\n                      onClick={() => submitQuestionnaire(q)}\r\n                      disabled={q.questions.length === 0}\r\n                    >\r\n                      <p>Soumis par : <strong>{user.name}</strong></p>\r\n                      Soumettre\r\n                    </button>\r\n                  </>\r\n                )}\r\n                {q.status === 'submitted' && <p>En attente de validation</p>}\r\n                {q.status === 'approved' && <p className=\"approved-status\">Approuv√©</p>}\r\n                {q.status === 'rejected' && <p className=\"rejected-status\">Rejet√©</p>}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n\r\n      {currentQuestionnaire && (\r\n        <div className=\"questionnaire-editor\">\r\n          <h2>{isCreatingNew ? 'Nouveau Questionnaire' : 'Modifier le Questionnaire'}</h2>\r\n          <div>\r\n            <label>Titre de l'examen</label>\r\n            <input\r\n              type=\"text\"\r\n              value={currentQuestionnaire.title}\r\n              onChange={e => setCurrentQuestionnaire({ ...currentQuestionnaire, title: e.target.value })}\r\n              placeholder=\"Ex: Examen de Math√©matiques\"\r\n              className=\"input-field\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label>Mati√®re</label>\r\n            <input\r\n              type=\"text\"\r\n              value={currentQuestionnaire.subject}\r\n              onChange={e => setCurrentQuestionnaire({ ...currentQuestionnaire, subject: e.target.value })}\r\n              placeholder=\"Ex: Math√©matiques\"\r\n              className=\"input-field\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <h3>Questions</h3>\r\n            <button className=\"add-question-btn\" onClick={addQuestion}>Ajouter une question</button>\r\n            {currentQuestionnaire.questions.length === 0 && (\r\n              <p className=\"no-questions\">Aucune question ajout√©e</p>\r\n            )}\r\n            {currentQuestionnaire.questions.map((question, idx) => (\r\n              <div key={question.id} className=\"question-card\">\r\n                <div className=\"question-header\">\r\n                  <strong>Question {idx + 1}</strong>\r\n                  <button className=\"remove-question-btn\" onClick={() => removeQuestion(question.id)}>Supprimer</button>\r\n                </div>\r\n                <textarea\r\n                  value={question.question}\r\n                  onChange={e => updateQuestion(question.id, 'question', e.target.value)}\r\n                  placeholder=\"Saisissez la question\"\r\n                  className=\"question-textarea\"\r\n                />\r\n                <div>\r\n                  <strong>Options de r√©ponse :</strong>\r\n                  {question.options.map((opt, optIdx) => (\r\n                    <div key={optIdx} className=\"option-row\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name={`correct-${question.id}`}\r\n                        checked={question.correctAnswer === optIdx}\r\n                        onChange={() => updateQuestion(question.id, 'correctAnswer', optIdx)}\r\n                      />\r\n                      <input\r\n                        type=\"text\"\r\n                        value={opt}\r\n                        onChange={e => updateQuestionOption(question.id, optIdx, e.target.value)}\r\n                        placeholder={`Option ${optIdx + 1}`}\r\n                        className=\"option-input\"\r\n                      />\r\n                      {question.correctAnswer === optIdx && (\r\n                        <span className=\"correct-indicator\">(Correct)</span>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"action-buttons\">\r\n            <button className=\"cancel-btn\" onClick={() => { setCurrentQuestionnaire(null); setIsCreatingNew(false); }}>\r\n              Annuler\r\n            </button>\r\n            <button className=\"save-btn\" onClick={saveQuestionnaire}>Sauvegarder</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TeacherDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}